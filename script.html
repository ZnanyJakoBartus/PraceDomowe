<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symulator Wahadła</title>
</head>
<body>
    <canvas id="canvas" width="800" height="800"></canvas>
    <input type="number" id="DlugoscWachadla" min="1" max="500" onchange="wczytywanie()">
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const canvas = document.getElementById("canvas");
            const ctx = canvas.getContext("2d");

            // Właściwości wahadła
            let DlugoscWachadla = 500;
            let kat =Math.PI/4 ;  // Początkowy kąt 45
            const gravity = 1;      // Przyspieszenie grawitacyjne
            const dampingFactor = 0.9;  // Współczynnik tłumienia
            let Predkosckatowa = 0;  // Początkowa prędkość kątowa
            let angleA = 0;
function wczytywanie(){
    DlugoscWachadla=document.getElementById('DlugoscWachadla').value;
}

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Rysowanie wahadła
                const pivotX = canvas.width / 2;
                const pivotY = 50;

                const ballX = pivotX + DlugoscWachadla * Math.sin(kat);
                const ballY = pivotY + DlugoscWachadla * Math.cos(kat);

                const ballX2 = ballX + DlugoscWachadla * Math.sin(kat);
                const ballY2 = ballY + DlugoscWachadla * Math.cos(kat);

                ctx.beginPath();
                ctx.moveTo(pivotX, pivotY);
                ctx.lineTo(ballX, ballY);
                ctx.arc(ballX, ballY, 20, 0, 2* Math.PI); 
                ctx.stroke();

                // Aktualizacja kąta i prędkości kątowej
                let force = (gravity  * Math.sin(kat));
                angleA = (-1* force)/DlugoscWachadla
                Predkosckatowa += angleA
                
                kat += Predkosckatowa;

               requestAnimationFrame(draw);
            }

            draw();
        });
    </script>
</body>
</html>
